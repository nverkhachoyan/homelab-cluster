apiVersion: v1

kind: ConfigMap

metadata:
  name: homepage
  namespace: default
  labels:
    app.kubernetes.io/name: homepage

data:
  kubernetes.yaml: |
    mode: cluster

  settings.yaml: |
    title: nverk.me
    favicon: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/svg/kubernetes.svg
    headerStyle: clean
    background:
      image: https://images.unsplash.com/photo-1475274047050-1d0c0975c63e?w=1920&q=80
      blur: md
      opacity: 70
      brightness: 40

    theme: dark
    color: slate
    hideErrors: true
    showStats: false

    quicklaunch:
      searchDescriptions: false
      hideInternetSearch: false
      showSearchSuggestions: true
      hideVisitURL: true

    layout:
      Media:
        style: row
        columns: 2

      Automation:
        style: row
        columns: 3

      Downloads:
        style: row
        columns: 2

      Infrastructure:
        style: row
        columns: 3

  services.yaml: |
    - Media:
        - Jellyfin:
            icon: jellyfin.svg
            href: https://jellyfin.nverk.me
            description: Media Server
            ping: http://jellyfin-service.default.svc.cluster.local:8096
            widget:
              type: jellyfin
              url: http://jellyfin-service.default.svc.cluster.local:8096
              key: "{{HOMEPAGE_VAR_JELLYFIN_KEY}}"
              enableBlocks: true
              enableNowPlaying: false

        - Jellyseerr:
            icon: jellyseerr.svg
            href: https://jellyseerr.nverk.me
            description: Content Requests
            ping: http://jellyseerr-service.default.svc.cluster.local:5055
            widget:
              type: jellyseerr
              url: http://jellyseerr-service.default.svc.cluster.local:5055
              key: "{{HOMEPAGE_VAR_JELLYSEERR_KEY}}"

    - Automation:
        - Radarr:
            icon: radarr.svg
            href: https://radarr.nverk.me
            description: Movies
            ping: http://radarr-service.default.svc.cluster.local:7878
            widget:
              type: radarr
              url: http://radarr-service.default.svc.cluster.local:7878
              key: "{{HOMEPAGE_VAR_RADARR_KEY}}"
              enableQueue: true

        - Sonarr:
            icon: sonarr.svg
            href: https://sonarr.nverk.me
            description: TV Shows
            ping: http://sonarr-service.default.svc.cluster.local:8989
            widget:
              type: sonarr
              url: http://sonarr-service.default.svc.cluster.local:8989
              key: "{{HOMEPAGE_VAR_SONARR_KEY}}"
              enableQueue: true

        - Prowlarr:
            icon: prowlarr.svg
            href: https://prowlarr.nverk.me
            description: Indexers
            ping: http://prowlarr-service.default.svc.cluster.local:9696
            widget:
              type: prowlarr
              url: http://prowlarr-service.default.svc.cluster.local:9696
              key: "{{HOMEPAGE_VAR_PROWLARR_KEY}}"

    - Downloads:
        - qBittorrent:
            icon: qbittorrent.svg
            href: https://torrent.nverk.me
            description: Torrent Client
            ping: http://qbit-service.default.svc.cluster.local:8080
            widget:
              type: qbittorrent
              url: http://qbit-service.default.svc.cluster.local:8080
              username: nverk1997
              password: "{{HOMEPAGE_VAR_QBIT_PASSWORD}}"

        - FlareSolverr:
            icon: flaresolverr.svg
            href: http://flaresolverr.default.svc.cluster.local:8191
            description: Cloudflare Proxy
            ping: http://flaresolverr.default.svc.cluster.local:8191

    - Infrastructure:
        - ArgoCD:
            icon: argocd.svg
            href: https://argocd.nverk.me
            description: GitOps
            ping: http://argocd-server.argocd.svc.cluster.local:80

        - Traefik:
            icon: traefik.svg
            href: https://traefik.nverk.me
            description: Ingress
            ping: http://traefik.traefik.svc.cluster.local:80

        - Cloudflare:
            icon: cloudflare.svg
            href: https://dash.cloudflare.com
            description: Tunnel
            widget:
              type: cloudflared
              accountid: "{{HOMEPAGE_VAR_CLOUDFLARE_ACCOUNT_ID}}"
              tunnelid: "{{HOMEPAGE_VAR_CLOUDFLARE_TUNNEL_ID}}"
              key: "{{HOMEPAGE_VAR_CLOUDFLARE_TUNNEL_TOKEN_HOMEPAGE}}"

  widgets.yaml: |
    - logo:
        icon: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/svg/kubernetes.svg
        
    - greeting:
        text_size: 2xl
        text: Welcome Back

    - datetime:
        text_size: lg
        format:
          dateStyle: long
          timeStyle: short
          hourCycle: h12

    - search:
        provider: google
        focus: true
        target: _blank

  bookmarks.yaml: |
    - Dev:
        - GitHub:
            - icon: github.svg
              href: https://github.com

        - Nix:
            - icon: nixos.svg
              href: https://search.nixos.org/packages

    - Homelab:
        - K8s Docs:
            - icon: kubernetes.svg
              href: https://kubernetes.io/docs/

        - Homepage:
            - icon: homepage.svg
              href: https://gethomepage.dev/

    - Links:
        - Reddit:
            - icon: reddit.svg
              href: https://reddit.com/r/homelab

        - YouTube:
            - icon: youtube.svg
              href: https://youtube.com

  docker.yaml: ""
  custom.css: |
    .service-card {
      backdrop-filter: blur(10px);
    }
  custom.js: ""
