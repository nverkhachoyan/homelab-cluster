/* ── CSS Custom Properties ────────────────────────────────────────────────── */
:root {
  /* Shared variables */
  --glass-blur: 16px;
  --glass-saturate: 180%;
  --border-radius-lg: 16px;
  --border-radius-md: 12px;
  --border-radius-sm: 8px;
  --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  --shadow-subtle: 0 4px 24px -4px rgba(0, 0, 0, 0.12);
  --shadow-elevated: 0 8px 32px -8px rgba(0, 0, 0, 0.24);
}

/* ── Dark Mode (Default) ──────────────────────────────────────────────────── */
html:not(.light) {
  --glass-bg: rgba(15, 15, 20, 0.75);
  --glass-bg-hover: rgba(25, 25, 32, 0.85);
  --glass-border: rgba(255, 255, 255, 0.08);
  --glass-border-hover: rgba(255, 255, 255, 0.15);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.65);
  --text-muted: rgba(255, 255, 255, 0.45);
  --accent-glow: rgba(99, 102, 241, 0.2);
  --input-bg: rgba(0, 0, 0, 0.3);
  --widget-bg: rgba(10, 10, 14, 0.6);
}

/* ── Light Mode ───────────────────────────────────────────────────────────── */
html.light {
  --glass-bg: rgba(255, 255, 255, 0.7);
  --glass-bg-hover: rgba(255, 255, 255, 0.85);
  --glass-border: rgba(0, 0, 0, 0.08);
  --glass-border-hover: rgba(0, 0, 0, 0.12);
  --text-primary: rgba(15, 23, 42, 0.95);
  --text-secondary: rgba(15, 23, 42, 0.7);
  --text-muted: rgba(15, 23, 42, 0.5);
  --accent-glow: rgba(99, 102, 241, 0.15);
  --input-bg: rgba(255, 255, 255, 0.5);
  --widget-bg: rgba(248, 250, 252, 0.8);
}

/* ── Global Smoothing ─────────────────────────────────────────────────────── */
* {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ── Card & Widget Base Styles ────────────────────────────────────────────── */
.service,
.service-card,
.widget,
.bookmark-group,
.information-widget-resource,
[class*="widget"] > div {
  background: var(--glass-bg) !important;
  backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate)) !important;
  -webkit-backdrop-filter: blur(var(--glass-blur))
    saturate(var(--glass-saturate)) !important;
  border: 1px solid var(--glass-border) !important;
  border-radius: var(--border-radius-md) !important;
  box-shadow: var(--shadow-subtle) !important;
  transition: var(--transition-smooth) !important;
}

/* ── Hover Effects ────────────────────────────────────────────────────────── */
.service:hover,
.service-card:hover,
.bookmark-group:hover {
  background: var(--glass-bg-hover) !important;
  border-color: var(--glass-border-hover) !important;
  box-shadow: var(--shadow-elevated) !important;
  transform: translateY(-2px) !important;
}

/* ── Typography ───────────────────────────────────────────────────────────── */
.service-name,
.widget-title,
.service-card h3,
.bookmark-group h2 {
  color: var(--text-primary) !important;
  font-weight: 600 !important;
  letter-spacing: -0.01em !important;
}

.service-description,
.widget-value,
p {
  color: var(--text-secondary) !important;
}

.text-xs,
.text-sm,
small {
  color: var(--text-muted) !important;
}

/* ── Search Bar ───────────────────────────────────────────────────────────── */
#search,
.search-input,
input[type="text"],
input[type="search"] {
  background: var(--input-bg) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;
  border: 1px solid var(--glass-border) !important;
  border-radius: var(--border-radius-lg) !important;
  color: var(--text-primary) !important;
  transition: var(--transition-smooth) !important;
  padding: 0.75rem 1.25rem !important;
}

#search:focus,
.search-input:focus,
input[type="text"]:focus,
input[type="search"]:focus {
  border-color: var(--glass-border-hover) !important;
  box-shadow: 0 0 0 4px var(--accent-glow) !important;
  outline: none !important;
}

input::placeholder {
  color: var(--text-muted) !important;
}

/* ── Section Headers ──────────────────────────────────────────────────────── */
.group-name,
h2[class*="header"],
.section-header {
  color: var(--text-primary) !important;
  font-weight: 700 !important;
  font-size: 0.75rem !important;
  letter-spacing: 0.1em !important;
  text-transform: uppercase !important;
  opacity: 0.9 !important;
}

/* ── Resource Widgets ─────────────────────────────────────────────────────── */
.resource-usage,
.information-widget-resource {
  background: var(--widget-bg) !important;
}

/* Progress bars */
.progress-bar,
[role="progressbar"] > div {
  border-radius: 9999px !important;
  transition: width 0.5s ease-out !important;
}

/* ── Status Indicators ────────────────────────────────────────────────────── */
.status-indicator,
.ping-indicator {
  border-radius: 50% !important;
  box-shadow: 0 0 8px currentColor !important;
}

/* Online status */
.status-online,
.ping-ok {
  box-shadow: 0 0 12px rgba(34, 197, 94, 0.6) !important;
}

/* ── Service Icons ────────────────────────────────────────────────────────── */
.service-icon img,
.service img {
  border-radius: var(--border-radius-sm) !important;
  transition: var(--transition-smooth) !important;
}

.service:hover .service-icon img,
.service:hover img {
  transform: scale(1.05) !important;
}

/* ── Greeting Widget ──────────────────────────────────────────────────────── */
.greeting-text,
.information-widget-greeting {
  font-weight: 300 !important;
  letter-spacing: -0.02em !important;
}

/* ── DateTime Widget ──────────────────────────────────────────────────────── */
.datetime-widget,
.information-widget-datetime {
  font-variant-numeric: tabular-nums !important;
}

/* ── Kubernetes Widget ────────────────────────────────────────────────────── */
.kubernetes-widget {
  gap: 0.5rem !important;
}

/* ── Scrollbar Styling ────────────────────────────────────────────────────── */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--glass-border);
  border-radius: 9999px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--glass-border-hover);
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--glass-border) transparent;
}

/* ── Animations ───────────────────────────────────────────────────────────── */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.service,
.widget,
.bookmark-group {
  animation: fadeIn 0.4s ease-out backwards !important;
}

/* Stagger animation for service cards */
.service:nth-child(1) {
  animation-delay: 0.05s !important;
}
.service:nth-child(2) {
  animation-delay: 0.1s !important;
}
.service:nth-child(3) {
  animation-delay: 0.15s !important;
}
.service:nth-child(4) {
  animation-delay: 0.2s !important;
}
.service:nth-child(5) {
  animation-delay: 0.25s !important;
}
.service:nth-child(6) {
  animation-delay: 0.3s !important;
}

/* ── Focus Visible States ─────────────────────────────────────────────────── */
a:focus-visible,
button:focus-visible {
  outline: 2px solid var(--glass-border-hover) !important;
  outline-offset: 2px !important;
  border-radius: var(--border-radius-sm) !important;
}

/* ── Widget Values (Numbers) ──────────────────────────────────────────────── */
.widget-value,
.resource-value,
[class*="value"] {
  font-variant-numeric: tabular-nums !important;
  font-feature-settings: "tnum" 1 !important;
}

/* ── Bookmark Styling ─────────────────────────────────────────────────────── */
.bookmark-icon {
  border-radius: var(--border-radius-sm) !important;
  padding: 0.25rem !important;
}

.bookmark-group a {
  transition: var(--transition-smooth) !important;
}

.bookmark-group a:hover {
  color: var(--text-primary) !important;
}

/* ── Logo Widget ──────────────────────────────────────────────────────────── */
.information-widget-logo img {
  filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.2)) !important;
}

/* ── Remove Default Shadows from Theme ────────────────────────────────────── */
.service-block,
.services-group {
  box-shadow: none !important;
}
